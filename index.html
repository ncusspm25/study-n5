<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vocabulary.ts - Project N5</title>
    <style>
        :root {
            --bg: #1e1e1e;
            --fg: #d4d4d4;
            --kw: #c586c0; /* Keyword */
            --var: #9cdcfe; /* Variable */
            --fn: #dcdcaa; /* Function */
            --str: #ce9178; /* String */
            --type: #4ec9b0; /* Type */
            --num: #b5cea8; /* Number */
            --cm: #6a9955; /* Comment */
            --sel: #264f78; /* Selection */
        }
        * { box-sizing: border-box; }
        body {
            background: var(--bg);
            color: var(--fg);
            font-family: Consolas, 'Courier New', monospace;
            margin: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            font-size: 15px;
        }
        /* Layout */
        .layout { display: flex; flex: 1; height: 100%; }
        .sidebar {
            width: 50px;
            background: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 10px;
            color: #858585;
        }
        .file-explorer {
            width: 200px;
            background: #252526;
            display: none; 
        }
        @media(min-width: 800px) { .file-explorer { display: block; } }
        
        .editor { flex: 1; display: flex; flex-direction: column; background: var(--bg); position: relative;}
        
        /* Tabs */
        .tabs { display: flex; background: #252526; height: 35px; overflow: hidden; }
        .tab {
            padding: 0 15px;
            display: flex;
            align-items: center;
            background: var(--bg);
            color: #fff;
            font-size: 13px;
            border-top: 2px solid #007acc;
            cursor: pointer;
        }
        .tab.inactive { background: #2d2d2d; color: #969696; border-top: 2px solid transparent; }
        
        /* Code Area */
        .code-area { flex: 1; padding: 10px 0; overflow-y: auto; font-size: 16px; line-height: 1.5; }
        .line { display: flex; padding: 0 5px; }
        .ln { 
            width: 40px; 
            text-align: right; 
            padding-right: 15px; 
            color: #858585; 
            user-select: none; 
            font-size: 14px;
        }
        .code { flex: 1; white-space: pre-wrap; word-break: break-all; }

        /* Inputs */
        input {
            background: transparent;
            border: none;
            border-bottom: 1px solid var(--cm);
            color: var(--str);
            font-family: inherit;
            font-size: inherit;
            outline: none;
            min-width: 100px;
            text-align: left;
        }
        input:focus { border-bottom: 1px solid var(--fg); }
        
        /* Status Bar */
        .status-bar {
            height: 22px;
            background: #007acc;
            color: white;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 10px;
            cursor: default;
        }

        /* Syntax Highlighting Classes */
        .k { color: var(--kw); }
        .v { color: var(--var); }
        .f { color: var(--fn); }
        .s { color: var(--str); }
        .t { color: var(--type); }
        .c { color: var(--cm); }
        .doc { color: #5f9e5c; font-style: italic; } 
        
        /* Boss Mode Overlay */
        #boss-screen {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #000;
            color: #ccc;
            padding: 20px;
            font-family: monospace;
            z-index: 9999;
            font-size: 12px;
            white-space: pre;
        }
    </style>
</head>
<body>

    <div class="layout" id="main-layout">
        <div class="sidebar">
            <div style="margin-bottom: 20px; font-size: 20px;">üìÑ</div>
            <div style="margin-bottom: 20px; font-size: 20px;">üîç</div>
            <div style="margin-bottom: 20px; font-size: 20px;">üêô</div>
        </div>
        
        <div class="file-explorer">
            <div style="padding: 10px; font-size: 11px; font-weight: bold; color: #bbb;">EXPLORER</div>
            <div style="padding: 5px 20px; color: #ccc;">‚ñº PROJECT-N5</div>
            <div style="padding: 2px 30px; color: #4ec9b0;">TS vocabulary.ts</div>
            <div style="padding: 2px 30px; color: #d4d4d4;"># readme.md</div>
            <div style="padding: 2px 30px; color: #d4d4d4;">{} package.json</div>
        </div>

        <div class="editor">
            <div class="tabs">
                <div class="tab">
                    <span style="color:#4ec9b0; margin-right:5px;">TS</span> vocabulary.ts <span style="margin-left:10px; font-size:16px;">√ó</span>
                </div>
                <div class="tab inactive">grammar.spec.ts</div>
            </div>

            <div class="code-area" id="code-container">
                </div>
        </div>
    </div>

    <div class="status-bar">
        <div style="display:flex; gap:15px;">
            <span>main*</span>
            <span>0 errors, 0 warnings</span>
        </div>
        <div style="display:flex; gap:15px;">
            <span id="progress-indicator">Ln 12, Col 45</span>
            <span>UTF-8</span>
            <span>TypeScript</span>
            <span>Prettier</span>
        </div>
    </div>

    <div id="boss-screen">
C:\Users\Admin> npm run dev
> n5-app@0.0.0 dev
> vite

  VITE v4.3.9  ready in 420 ms
  ‚ûú  Local:   http://localhost:5173/
[INFO] [14:02:23] GET /src/main.ts 200 - 15ms
...
    </div>

    <script>
        // ==========================================
        // ÂÆåÊï¥Ë≥áÊñôÂ∫´ (V3.2)
        // ==========================================
        const db = [
            // --- 1. ‰ª£ÂêçË©û & ‰∫∫Áâ© ---
            {t:'n', k:'ÁßÅ', r:'„Çè„Åü„Åó', a:['I','Êàë'], h:'Êàë'},
            {t:'n', k:'„ÅÇ„Å™„Åü', r:'„ÅÇ„Å™„Åü', a:['you','‰Ω†'], h:'‰Ω†'},
            {t:'n', k:'ÂÖàÁîü', r:'„Åõ„Çì„Åõ„ÅÑ', a:['teacher','ËÄÅÂ∏´'], h:'ËÄÅÂ∏´/ÈÜ´Áîü'},
            {t:'n', k:'Â≠¶Áîü', r:'„Åå„Åè„Åõ„ÅÑ', a:['student','Â≠∏Áîü'], h:'Â≠∏Áîü'},
            {t:'n', k:'‰ºöÁ§æÂì°', r:'„Åã„ÅÑ„Åó„ÇÉ„ÅÑ„Çì', a:['employee','ÂÖ¨Âè∏ËÅ∑Âì°','‰∏äÁè≠Êóè'], h:'ÂÖ¨Âè∏ËÅ∑Âì°'},
            {t:'n', k:'‰∫∫', r:'„Å≤„Å®', a:['person','‰∫∫'], h:'‰∫∫'},
            {t:'n', k:'Â≠ê‰æõ', r:'„Åì„Å©„ÇÇ', a:['child','Â∞èÂ≠©'], h:'Â∞èÂ≠©'},
            {t:'n', k:'Ë™∞', r:'„Å†„Çå', a:['who','Ë™∞'], h:'Ë™∞'},

            // --- 2. ÂÆ∂Êóè ---
            {t:'n', k:'Áà∂', r:'„Å°„Å°', a:['father','dad','Áà∏Áà∏','ÂÆ∂Áà∂'], h:'(ÊàëÁöÑ)Áà∂Ë¶™'},
            {t:'n', k:'ÊØç', r:'„ÅØ„ÅØ', a:['mother','mom','Â™ΩÂ™Ω','ÂÆ∂ÊØç'], h:'(ÊàëÁöÑ)ÊØçË¶™'},
            {t:'n', k:'ÂÖÑ', r:'„ÅÇ„Å´', a:['older brother','Âì•Âì•'], h:'(ÊàëÁöÑ)Âì•Âì•'},
            {t:'n', k:'Âßâ', r:'„ÅÇ„Å≠', a:['older sister','ÂßäÂßä'], h:'(ÊàëÁöÑ)ÂßäÂßä'},
            {t:'n', k:'Âºü', r:'„Åä„Å®„ÅÜ„Å®', a:['younger brother','ÂºüÂºü'], h:'(ÊàëÁöÑ)ÂºüÂºü'},
            {t:'n', k:'Â¶π', r:'„ÅÑ„ÇÇ„ÅÜ„Å®', a:['younger sister','Â¶πÂ¶π'], h:'(ÊàëÁöÑ)Â¶πÂ¶π'},
            {t:'n', k:'„ÅäÁà∂„Åï„Çì', r:'„Åä„Å®„ÅÜ„Åï„Çì', a:['father','Áà∏Áà∏'], h:'(Âà•‰∫∫ÁöÑ)Áà∂Ë¶™'},
            {t:'n', k:'„ÅäÊØç„Åï„Çì', r:'„Åä„Åã„ÅÇ„Åï„Çì', a:['mother','Â™ΩÂ™Ω'], h:'(Âà•‰∫∫ÁöÑ)ÊØçË¶™'},

            // --- 3. ÊôÇÈñì ---
            {t:'n', k:'‰ªä', r:'„ÅÑ„Åæ', a:['now','ÁèæÂú®'], h:'ÁèæÂú®'},
            {t:'n', k:'‰ªäÊó•', r:'„Åç„Çá„ÅÜ', a:['today','‰ªäÂ§©'], h:'‰ªäÂ§©'},
            {t:'n', k:'Êò®Êó•', r:'„Åç„ÅÆ„ÅÜ', a:['yesterday','Êò®Â§©'], h:'Êò®Â§©'},
            {t:'n', k:'ÊòéÊó•', r:'„ÅÇ„Åó„Åü', a:['tomorrow','ÊòéÂ§©'], h:'ÊòéÂ§©'},
            {t:'n', k:'Êúù', r:'„ÅÇ„Åï', a:['morning','Êó©‰∏ä'], h:'Êó©‰∏ä'},
            {t:'n', k:'Êòº', r:'„Å≤„Çã', a:['noon','daytime','‰∏≠Âçà'], h:'‰∏≠Âçà/ÁôΩÂ§©'},
            {t:'n', k:'Êô©', r:'„Å∞„Çì', a:['night','evening','Êôö‰∏ä'], h:'Êôö‰∏ä'},
            {t:'n', k:'ÊØéÊó•', r:'„Åæ„ÅÑ„Å´„Å°', a:['everyday','ÊØèÂ§©'], h:'ÊØèÂ§©'},
            {t:'n', k:'Êù•ÈÄ±', r:'„Çâ„ÅÑ„Åó„ÇÖ„ÅÜ', a:['next week','‰∏ãÈÄ±'], h:'‰∏ãÈÄ±'},
            {t:'n', k:'„ÅÑ„Å§', r:'„ÅÑ„Å§', a:['when','‰ΩïÊôÇ'], h:'‰ªÄÈ∫ºÊôÇÂÄô'},

            // --- 4. Â†¥ÊâÄ ---
            {t:'n', k:'Â≠¶Ê†°', r:'„Åå„Å£„Åì„ÅÜ', a:['school','Â≠∏Ê†°'], h:'Â≠∏Ê†°'},
            {t:'n', k:'ÊïôÂÆ§', r:'„Åç„Çá„ÅÜ„Åó„Å§', a:['classroom','ÊïôÂÆ§'], h:'ÊïôÂÆ§'},
            {t:'n', k:'È£üÂ†Ç', r:'„Åó„Çá„Åè„Å©„ÅÜ', a:['canteen','È£üÂ†Ç'], h:'È£üÂ†Ç'},
            {t:'n', k:'„Éà„Ç§„É¨', r:'„Éà„Ç§„É¨', a:['toilet','ÂªÅÊâÄ'], h:'ÂªÅÊâÄ'},
            {t:'n', k:'ÁóÖÈô¢', r:'„Å≥„Çá„ÅÜ„ÅÑ„Çì', a:['hospital','ÈÜ´Èô¢'], h:'ÈÜ´Èô¢'},
            {t:'n', k:'ÈäÄË°å', r:'„Åé„Çì„Åì„ÅÜ', a:['bank','ÈäÄË°å'], h:'ÈäÄË°å'},
            {t:'n', k:'Âõ≥Êõ∏È§®', r:'„Å®„Åó„Çá„Åã„Çì', a:['library','ÂúñÊõ∏È§®'], h:'ÂúñÊõ∏È§®'},
            {t:'n', k:'‰∏ä', r:'„ÅÜ„Åà', a:['up','above','‰∏ä'], h:'‰∏äÈù¢'},
            {t:'n', k:'‰∏ã', r:'„Åó„Åü', a:['down','below','‰∏ã'], h:'‰∏ãÈù¢'},
            {t:'n', k:'‰∏≠', r:'„Å™„Åã', a:['inside','‰∏≠'], h:'Ë£°Èù¢'},
            {t:'n', k:'Â§ñ', r:'„Åù„Å®', a:['outside','Â§ñ'], h:'Â§ñÈù¢'},

            // --- 5. È£üÁâ©/Áâ©ÂìÅ ---
            {t:'n', k:'„ÅîÈ£Ø', r:'„Åî„ÅØ„Çì', a:['rice','meal','È£Ø'], h:'È£Ø/È§ê'},
            {t:'n', k:'ËÇâ', r:'„Å´„Åè', a:['meat','ËÇâ'], h:'ËÇâ'},
            {t:'n', k:'È≠ö', r:'„Åï„Åã„Å™', a:['fish','È≠ö'], h:'È≠ö'},
            {t:'n', k:'Ê∞¥', r:'„Åø„Åö', a:['water','Ê∞¥'], h:'Ê∞¥'},
            {t:'n', k:'Êú¨', r:'„Åª„Çì', a:['book','Êõ∏'], h:'Êõ∏'},
            {t:'n', k:'Ëªä', r:'„Åè„Çã„Åæ', a:['car','Ëªä'], h:'Ëªä'},
            {t:'n', k:'ÊâãÁ¥ô', r:'„Å¶„Åå„Åø', a:['letter','‰ø°'], h:'‰ø°'},

            // --- 6. ÂãïË©û ---
            {t:'v', k:'Ëµ∑„Åç„Åæ„Åô', r:'„Åä„Åç„Åæ„Åô', a:['wake up','Ëµ∑Â∫ä'], h:'Ëµ∑Â∫ä'},
            {t:'v', k:'ÂØù„Åæ„Åô', r:'„Å≠„Åæ„Åô', a:['sleep','Áù°Ë¶∫'], h:'Áù°Ë¶∫'},
            {t:'v', k:'ÂÉç„Åç„Åæ„Åô', r:'„ÅØ„Åü„Çâ„Åç„Åæ„Åô', a:['work','Â∑•‰Ωú'], h:'Â∑•‰Ωú'},
            {t:'v', k:'Ë°å„Åç„Åæ„Åô', r:'„ÅÑ„Åç„Åæ„Åô', a:['go','Âéª'], h:'Âéª'},
            {t:'v', k:'Êù•„Åæ„Åô', r:'„Åç„Åæ„Åô', a:['come','‰æÜ'], h:'‰æÜ'},
            {t:'v', k:'Â∏∞„Çä„Åæ„Åô', r:'„Åã„Åà„Çä„Åæ„Åô', a:['return','ÂõûÂÆ∂'], h:'ÂõûÂÆ∂'},
            {t:'v', k:'È£ü„Åπ„Åæ„Åô', r:'„Åü„Åπ„Åæ„Åô', a:['eat','ÂêÉ'], h:'ÂêÉ'},
            {t:'v', k:'È£≤„Åø„Åæ„Åô', r:'„ÅÆ„Åø„Åæ„Åô', a:['drink','Âñù'], h:'Âñù'},
            {t:'v', k:'Ë≤∑„ÅÑ„Åæ„Åô', r:'„Åã„ÅÑ„Åæ„Åô', a:['buy','Ë≤∑'], h:'Ë≤∑'},
            {t:'v', k:'Ë¶ã„Åæ„Åô', r:'„Åø„Åæ„Åô', a:['watch','Áúã'], h:'Áúã'},
            {t:'v', k:'ËÅû„Åç„Åæ„Åô', r:'„Åç„Åç„Åæ„Åô', a:['listen','hear','ËÅΩ','Âïè'], h:'ËÅΩ/Âïè'},
            {t:'v', k:'Ë™≠„Åø„Åæ„Åô', r:'„Çà„Åø„Åæ„Åô', a:['read','ËÆÄ'], h:'Èñ±ËÆÄ'},
            {t:'v', k:'Êõ∏„Åç„Åæ„Åô', r:'„Åã„Åç„Åæ„Åô', a:['write','ÂØ´'], h:'ÂØ´'},
            {t:'v', k:'ÂàÜ„Åã„Çä„Åæ„Åô', r:'„Çè„Åã„Çä„Åæ„Åô', a:['understand','ÊáÇ'], h:'ÊáÇ‰∫Ü'},
            {t:'v', k:'„ÅÇ„Çä„Åæ„Åô', r:'„ÅÇ„Çä„Åæ„Åô', a:['have','exists','Êúâ','Âú®'], h:'Êúâ/Âú® (ÁÑ°ÁîüÂëΩ)'},
            {t:'v', k:'„ÅÑ„Åæ„Åô', r:'„ÅÑ„Åæ„Åô', a:['have','exists','Êúâ','Âú®'], h:'Êúâ/Âú® (ÊúâÁîüÂëΩ)'},

            // --- 7. ÂΩ¢ÂÆπË©û/ÂâØË©û ---
            {t:'adj', k:'Â§ß„Åç„ÅÑ', r:'„Åä„Åä„Åç„ÅÑ', a:['big','Â§ß'], h:'Â§ßÁöÑ'},
            {t:'adj', k:'Â∞è„Åï„ÅÑ', r:'„Å°„ÅÑ„Åï„ÅÑ', a:['small','Â∞è'], h:'Â∞èÁöÑ'},
            {t:'adj', k:'Êñ∞„Åó„ÅÑ', r:'„ÅÇ„Åü„Çâ„Åó„ÅÑ', a:['new','Êñ∞'], h:'Êñ∞ÁöÑ'},
            {t:'adj', k:'Âè§„ÅÑ', r:'„Åµ„Çã„ÅÑ', a:['old','Ëàä'], h:'ËàäÁöÑ'},
            {t:'adj', k:'„ÅÑ„ÅÑ', r:'„ÅÑ„ÅÑ', a:['good','Â•Ω'], h:'Â•ΩÁöÑ'},
            {t:'adj', k:'Êöë„ÅÑ', r:'„ÅÇ„Å§„ÅÑ', a:['hot','ÁÜ±'], h:'ÁÜ±ÁöÑ'},
            {t:'adj', k:'ÂØí„ÅÑ', r:'„Åï„ÇÄ„ÅÑ', a:['cold','ÂÜ∑'], h:'ÂÜ∑ÁöÑ'},
            {t:'adj', k:'„Åä„ÅÑ„Åó„ÅÑ', r:'„Åä„ÅÑ„Åó„ÅÑ', a:['delicious','Â•ΩÂêÉ'], h:'Â•ΩÂêÉÁöÑ'},
            {t:'adj', k:'Ê•Ω„Åó„ÅÑ', r:'„Åü„ÅÆ„Åó„ÅÑ', a:['fun','Âø´Ê®Ç'], h:'ÊÑâÂø´ÁöÑ'},
            {t:'adj', k:'Á∂∫È∫ó', r:'„Åç„Çå„ÅÑ', a:['beautiful','clean','ÊºÇ‰∫Æ','‰πæÊ∑®'], h:'ÊºÇ‰∫ÆÁöÑ'},
            {t:'adj', k:'Èùô„Åã', r:'„Åó„Åö„Åã', a:['quiet','ÂÆâÈùú'], h:'ÂÆâÈùúÁöÑ'},
            {t:'adj', k:'Â•Ω„Åç', r:'„Åô„Åç', a:['like','ÂñúÊ≠°'], h:'ÂñúÊ≠°ÁöÑ'},
            {t:'adv', k:'„Å®„Å¶„ÇÇ', r:'„Å®„Å¶„ÇÇ', a:['very','ÈùûÂ∏∏'], h:'ÈùûÂ∏∏'},
            {t:'adv', k:'„ÅÇ„Åæ„Çä', r:'„ÅÇ„Åæ„Çä', a:['not very','‰∏çÂ§™'], h:'‰∏çÂ§™ (Êé•Âê¶ÂÆö)'},

            // --- 8. ÊñáÊ≥ïÂè•Âûã ---
            {mode:'g', pre:'ÁßÅ', post:'Â≠¶Áîü„Åß„Åô„ÄÇ', a:['„ÅØ','wa'], desc:'ÊàëÊòØÂ≠∏Áîü (‰∏ªÈ°åÊ®ôË®ò)', r:'„Çè„Åü„Åó...„Åå„Åè„Åõ„ÅÑ'},
            {mode:'g', pre:'„Åì„Çå', post:'Êú¨„Åß„Åô„Åã„ÄÇ', a:['„ÅØ','wa'], desc:'ÈÄôÊòØÊõ∏ÂóéÔºü', r:'„Åì„Çå...„Åª„Çì'},
            {mode:'g', pre:'„Éà„Ç§„É¨', post:'„Å©„Åì„Åß„Åô„Åã„ÄÇ', a:['„ÅØ','wa'], desc:'ÂªÅÊâÄÂú®Âì™Ë£°Ôºü', r:'„Éà„Ç§„É¨...„Å©„Åì'},
            {mode:'g', pre:'3ÊôÇ', post:'ÂØù„Åæ„Åô„ÄÇ', a:['„Å´','ni'], desc:'‰∏âÈªûÁù°Ë¶∫ (ÊôÇÈñìÈªû)', r:'„Åï„Çì„Åò...„Å≠„Åæ„Åô'},
            {mode:'g', pre:'Â≠¶Ê†°', post:'Ë°å„Åç„Åæ„Åô„ÄÇ', a:['„Å∏','„Å´','e','ni'], desc:'ÂéªÂ≠∏Ê†° (ÁßªÂãïÊñπÂêë)', r:'„Åå„Å£„Åì„ÅÜ...„ÅÑ„Åç„Åæ„Åô'},
            {mode:'g', pre:'„Éê„Çπ', post:'Êù•„Åæ„Åó„Åü„ÄÇ', a:['„Åß','de'], desc:'Êê≠ÂÖ¨Ëªä‰æÜÁöÑ (‰∫§ÈÄöÊâãÊÆµ)', r:'„Éê„Çπ...„Åç„Åæ„Åó„Åü'},
            {mode:'g', pre:'Êó•Êú¨Ë™û', post:'Ë©±„Åó„Åæ„Åô„ÄÇ', a:['„Åß','de'], desc:'Áî®Êó•ÊñáË™™Ë©± (Ë™ûË®ÄÊâãÊÆµ)', r:'„Å´„Åª„Çì„Åî...„ÅØ„Å™„Åó„Åæ„Åô'},
            {mode:'g', pre:'„ÅîÈ£Ø', post:'È£ü„Åπ„Åæ„Åô„ÄÇ', a:['„Çí','o','wo'], desc:'ÂêÉÈ£Ø (ÂèóË©û)', r:'„Åî„ÅØ„Çì...„Åü„Åπ„Åæ„Åô'},
            {mode:'g', pre:'Âõ≥Êõ∏È§®', post:'ÂãâÂº∑„Åó„Åæ„Åô„ÄÇ', a:['„Åß','de'], desc:'Âú®ÂúñÊõ∏È§®Âî∏Êõ∏ (Âãï‰ΩúÂ†¥ÊâÄ)', r:'„Å®„Åó„Çá„Åã„Çì...„Åπ„Çì„Åç„Çá„ÅÜ„Åó„Åæ„Åô'},
            {mode:'g', pre:'Áî∞‰∏≠„Åï„Çì', post:'„ÅÑ„Åæ„Åô„ÄÇ', a:['„Åå','ga'], desc:'Áî∞‰∏≠ÂÖàÁîüÂú® (Â≠òÂú®‰∏ªË©û)', r:'„Åü„Å™„Åã„Åï„Çì...„ÅÑ„Åæ„Åô'},
            {mode:'g', pre:'Êú∫„ÅÆ‰∏ä', post:'Áå´„Åå„ÅÑ„Åæ„Åô„ÄÇ', a:['„Å´','ni'], desc:'Ê°åÂ≠ê‰∏ä...ÊúâË≤ì (Â≠òÂú®Â†¥ÊâÄ)', r:'„Å§„Åè„Åà„ÅÆ„ÅÜ„Åà...„Å≠„Åì'},
            {mode:'g', pre:'Êù±‰∫¨', post:'Â§ßÈò™„Åæ„Åß„ÄÇ', a:['„Åã„Çâ','kara'], desc:'"Âæû"Êù±‰∫¨Âà∞Â§ßÈò™', r:'„Å®„ÅÜ„Åç„Çá„ÅÜ...„Åä„Åä„Åï„Åã'},
            {mode:'g', pre:'ÊòéÊó•‰∏ÄÁ∑í„Å´', post:'„Åæ„Åõ„Çì„Åã„ÄÇ', a:['„ÅÑ„Åç','iki'], desc:'ÊòéÂ§©Ë¶Å‰∏çË¶Å‰∏ÄËµ∑"Âéª"Âë¢Ôºü (Ë°å„Åç„Åæ„ÅôÁöÑÈÇÄË´ãÂΩ¢)', r:'„ÅÇ„Åó„Åü„ÅÑ„Å£„Åó„Çá„Å´...'},
            {mode:'g', pre:'Èü≥Ê•Ω„Çí', post:'„Å™„Åå„Çâ„ÄÅÂãâÂº∑„Åó„Åæ„Åô„ÄÇ', a:['„Åç„Åç','kiki'], desc:'‰∏ÄÈÇä"ËÅΩ"Èü≥Ê®ÇÔºå‰∏ÄÈÇäÂî∏Êõ∏', r:'„Åä„Çì„Åå„Åè...„Åπ„Çì„Åç„Çá„ÅÜ'}
        ];

        // ------------------------------------------
        // Á≥ªÁµ±ÈÇèËºØ
        // ------------------------------------------
        const codeContainer = document.getElementById('code-container');
        const progressIndicator = document.getElementById('progress-indicator');
        const bossScreen = document.getElementById('boss-screen');
        let currentIdx = 0;
        let correctCount = 0;
        let isBossMode = false;
        
        // ÁãÄÊÖãÊéßÂà∂Ôºö'input' = Ëº∏ÂÖ•‰∏≠, 'result' = È°ØÁ§∫ÁµêÊûú(Á≠âÂæÖ‰∏ã‰∏ÄÈ°å)
        let gameState = 'input'; 

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        let queue = shuffle([...db]);

        function renderQuestion() {
            gameState = 'input'; // ÈáçÁΩÆÁÇ∫Ëº∏ÂÖ•Ê®°Âºè

            if (queue.length === 0) {
                queue = shuffle([...db]);
            }
            
            const item = queue.pop();
            currentIdx++;
            const lineNum = 10 + Math.floor(Math.random() * 50);

            let html = '';

            if (item.mode === 'g') {
                html = `
<div class="line"><span class="ln">${lineNum}</span><span class="code"><span class="doc">/**</span></span></div>
<div class="line"><span class="ln">${lineNum+1}</span><span class="code"><span class="doc"> * Grammar: ${item.desc}</span></span></div>
<div class="line"><span class="ln">${lineNum+2}</span><span class="code"><span class="doc"> * Reading: ${item.r}</span></span></div>
<div class="line"><span class="ln">${lineNum+3}</span><span class="code"><span class="doc"> */</span></span></div>
<div class="line"><span class="ln">${lineNum+4}</span><span class="code"><span class="k">const</span> <span class="v">sentence</span> = <span class="s">"${item.pre} <input id="ans-input" autocomplete="off" style="width:50px; text-align:center;"> ${item.post}"</span>;</span></div>
<div class="line"><span class="ln">${lineNum+5}</span><span class="code"><span class="v">console</span>.<span class="f">log</span>(<span class="v">sentence</span>);</span></div>
<div class="line"><span class="ln">${lineNum+6}</span><span class="code" id="feedback"></span></div>`;
            } else {
                let typeStr = item.t === 'v' ? 'Verb' : (item.t === 'adj' ? 'Adjective' : (item.t === 'adv' ? 'Adverb' : 'Noun'));
                html = `
<div class="line"><span class="ln">${lineNum}</span><span class="code"><span class="doc">/**</span></span></div>
<div class="line"><span class="ln">${lineNum+1}</span><span class="code"><span class="doc"> * Reading: ${item.r} </span></span></div>
<div class="line"><span class="ln">${lineNum+2}</span><span class="code"><span class="doc"> * Hint:    ${item.h} </span></span></div>
<div class="line"><span class="ln">${lineNum+3}</span><span class="code"><span class="doc"> */</span></span></div>
<div class="line"><span class="ln">${lineNum+4}</span><span class="code"><span class="k">export</span> <span class="k">const</span> <span class="v">${item.k}</span>: <span class="t">${typeStr}</span> = <span class="s">"<input id="ans-input" autocomplete="off" placeholder="...">"</span>;</span></div>
<div class="line"><span class="ln">${lineNum+5}</span><span class="code" id="feedback"></span></div>`;
            }

            codeContainer.innerHTML = html;
            
            const input = document.getElementById('ans-input');
            input.focus();
            input.dataset.answers = JSON.stringify(item.a);
            
            // Áõ£ËÅΩ Enter Èçµ (ÈõôÈáçÈÇèËºØ)
            input.addEventListener('keydown', (e) => {
                if(e.key === 'Enter') {
                    if (gameState === 'input') {
                        checkAnswer(input);
                    } else {
                        renderQuestion();
                    }
                }
            });
            
            progressIndicator.innerText = `Ln ${lineNum+4}, Col 12`;
        }

        function checkAnswer(input) {
            const userVal = input.value.trim().toLowerCase();
            const answers = JSON.parse(input.dataset.answers);
            const feedback = document.getElementById('feedback');
            
            const correct = answers.some(a => a.toLowerCase() === userVal);

            gameState = 'result'; // ÂàáÊèõÁãÄÊÖã

            if (correct) {
                input.style.color = '#b5cea8'; // Greenish
                feedback.innerHTML = `<span class="c">// OK. Saved. <span style="opacity:0.5; font-size:0.8em;">(Press Enter)</span></span>`;
                correctCount++;
            } else {
                input.style.color = '#f44747'; // Red
                input.style.borderBottom = '1px solid #f44747';
                feedback.innerHTML = `<span class="c" style="color:#f44747">// Error: Expected "${answers[0]}" <span style="color:#858585;">(Press Enter)</span></span>`;
            }
        }

        document.addEventListener('keydown', (e) => {
            // Boss Key
            if (e.key === 'Escape') {
                isBossMode = !isBossMode;
                if(isBossMode) {
                    bossScreen.style.display = 'block';
                    document.title = 'Command Prompt';
                } else {
                    bossScreen.style.display = 'none';
                    document.title = 'vocabulary.ts - Project N5';
                    const input = document.getElementById('ans-input');
                    if(input) input.focus();
                }
            }
            // ÂÖ®Âüü Enter (Èò≤Ê≠¢ÁÑ¶Èªû‰∏çÂú®Ëº∏ÂÖ•Ê°ÜÊôÇÁÑ°Ê≥ï‰∏ã‰∏ÄÈ°å)
            if (e.key === 'Enter' && gameState === 'result') {
                renderQuestion();
            }
        });

        // ÂïüÂãï
        renderQuestion();
    </script>
</body>
</html>
